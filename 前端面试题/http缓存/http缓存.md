​	作为一名前端开发人员， 我们时常听到http缓存这个词。我们也知道缓存的目的就是让我们向后端请求少量的或者不请求数据，从而加快前端获取资源的速度进一步加快页面的相应速度。

#### http缓存是什么

​	http缓存是一种将资源副本保存在本地，以便下次无需向资源服务器请求和下载，直接使用本地缓存的技术。

#### http缓存的好处

​	试想一下，如果没有缓存，那么我们不断的刷新某个页面，每一次他都需要向服务器请求并下载全部的资源，以便页面能够正确的展示。这极大的拖慢的浏览器的显示速度，也极大的增加服务器的相应压力。

#### http缓存有哪些

​	http缓存是通过响应头中的字段控制的， 我们常见的缓存策略有强制缓存、协商缓存；

##### 强制缓存

​	强制缓存是一种将资源缓存在本地的策略，如果浏览器下次再请求的时候， 如果本地有此缓存的资源且还没有过期，那么将不再向服务器发送新的请求。

​	浏览器中资源的强制缓存是由响应头中的cache-control、Expires字段控制的

​	Expires：过期时间，是一个绝对时间现在已经废弃

​	Cache-Control 的可取的值如下：

​		no-store：不使用缓存

​		no-cache: 使用缓存之前无论资源是否过期都需要向服务器询问

​		max-age=秒： 资源存储的最大期限， 相对于资源缓存的时间来讲

​		s-maxage=秒： 资源存储的最大期限， 相对于资源缓存的时间来讲

​		max-stale=秒：客户端愿意接收一个已经过期的资源。可以设置一个可选的秒数，表示响应不能已经过时超过该给定的时间。

​		min-fresh=秒：客户端希望获取一个能在指定的秒数内保持其最新状态的响应		

​		private：私有缓存， 缓存只能用到单个的客户端	

​		public：允许代理服务器缓存提供给多个客户端使用

​	客户端查找缓存的顺序：内存、硬盘、网络请求

##### 协商缓存

​	协商缓存每次都会向服务器发送一个请求，如过资源没有改变那么继续使用该资源的缓存、如果名中缓存了，那么服务器返回新的资源。协商缓存的两种策略last-modify、Etag，

###### Etag

​	浏览器每次用到某个资源的时候会向服务器发送一个If-None-Match请求头，If-None-Match带着的是一个该资源的hash，如果服务端用该hash值和服务端的比较没有发生改变，那么服务器返回304.

​	如果资源发生了改变，那么返回改变后的数据。

###### last-modify

​	浏览器每次用到某个资源的时候会向服务器发送一个If-Since-Modify请求头，If-Since-Modify带着的是一个该资源的最后修改时间，如果服务端用该时间值和服务端的比较没有发生改变，那么服务器返回304.

​	如果资源发生了改变，那么返回改变后的数据。

一般请求的时候浏览器会将If-None-Match和If-Since-Modify这两个请求头都带上。

视频地址：https://www.bilibili.com/video/BV1AF411m7pV/?vd_source=e46930c75b1a49af929af7ae8772c6d3

